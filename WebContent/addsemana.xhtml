<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Adicionar Semana</title>
	<link type="text/css" rel="stylesheet"
		href="/project/faces/javax.faces.resource/theme.css?ln=primefaces-glass-x" />
</h:head>
<h:body>

	<p:layout fullPage="true">
		<p:layoutUnit position="west" width="200" header="Atividades"
			resizable="true" closable="true" collapsible="true">
			<h:form>
				<p:commandLink value="Novo Motorista"
					actionListener="#{motoristaController.prepararAdicionarMotorista}"
					update=":addmoto:infosMotorista"
					oncomplete="PF('dialogGerMotorista').show();" />
				<p:commandLink value="Novo Semana"
					actionListener="#{semanaController.prepararAdicionarSemana}"
					update=":addsem:infosSemana"
					oncomplete="PF('dialogGerSemana').show();" />
			</h:form>
			<h:outputLink
				value="#{facesContext.externalContext.requestContextPath}/j_spring_security_logout">
				<h:outputText value="Sair" />
			</h:outputLink>
		</p:layoutUnit>

		<p:layoutUnit position="center">
			<h1>Depositos</h1>

			<br />
			<h:form id="tab1">
				<p:dataTable id="tabela1" var="resumo1"
					value="#{resumoController.listarResumos}">
					<p:column headerText="Deposito">
						<h:outputText value="#{resumo1.deposito}" />
					</p:column>
					<p:column headerText="Dívida">
						<h:outputText value="#{resumo1.divida}" />
					</p:column>
					<p:column headerText="Semana">
						<h:outputText value="#{resumo1.semana}" />
					</p:column>
					<p:column headerText="Devolução">
						<h:outputText value="#{resumo1.devolucao}" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="Alterar" />
						</f:facet>
						<p:commandButton
							actionListener="#{resumoController.prepararAlterarResumo}"
							value="Alterar" update=":addmoto:infosSemana"
							oncomplete="PF('dialogGerResumo').show();" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="Excluir" />
							</f:facet>
										</p:column>
				</p:dataTable>
			</h:form>
			<h1>Semana</h1>

			<br />

			<h:form id="tab2">
				<p:dataTable id="tabela2" var="resumo2"
					value="#{semanaController.listarSemanas}">
					<p:column headerText="Produção">
						<h:outputText value="#{resumo2.producao}" />
					</p:column>
					<p:column headerText="Aluguel">
						<h:outputText value="#{resumo2.aluguel}" />
					</p:column>
					<p:column headerText="Desconto">
						<h:outputText value="#{resumo2.desconto}" />
					</p:column>
					<p:column headerText="Batida">
						<h:outputText value="#{resumo2.batida}" />
					</p:column>
					<p:column headerText="Multa">
						<h:outputText value="#{resumo2.multa}" />
					</p:column>
					<p:column headerText="Adiantamento">
						<h:outputText value="#{resumo2.adiantamento}" />
					</p:column>
					<p:column headerText="TOTAL">
						<h:outputText value="#{resumo2.semana}" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="Alterar" />
						</f:facet>
						<p:commandButton
							actionListener="#{semanaController.prepararAlterarSemana}"
							value="Alterar" update=":addmoto:infosSemana"
							oncomplete="PF('dialogGerSemana').show();" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="Excluir" />
										</f:facet>
										</p:column>
				</p:dataTable>
			</h:form>
		</p:layoutUnit>
	</p:layout>

<p:dialog header="Gerencia de Motorista" widgetVar="dialogGerMotorista"
		resizable="false" modal="true" showEffect="slide" width="500">
		<h:form id="addmoto">
			<h:panelGrid id="infosMotorista" columns="2"
				style="margin-bottom:10px">

				<h:outputLabel for="nome" value="Nome:" />
				<h:inputText id="nome" value="#{motoristaController.motorista.nome}" />

				<h:outputLabel for="tel" value="Telefone:" />
				<h:inputText id="tel" value="#{motoristaController.motorista.tel}" />

				<h:outputLabel for="cpf" value="C.P.F:" />
				<h:inputText id="cpf" value="#{motoristaController.motorista.cpf}" />

				<h:outputLabel for="senha" value="Senha:" />
				<h:inputText id="senha"
					value="#{motoristaController.motorista.senha}" />

				<h:outputLabel for="ativo" value="Ativo:" />
				<h:inputText id="ativo"
					value="#{motoristaController.motorista.ativo}" />


				<p:commandButton update=""
					oncomplete="PF('dialogGerMotorista').hide();"
					actionListener="#{motoristaController.adicionarMotorista}"
					value="Inserir Motorista" />
				<p:commandButton update=""
					oncomplete="PF('dialogGerMotorista').hide();"
					actionListener="#{motoristaController.alterarMotorista}"
					value="Alterar Motorista" />

			</h:panelGrid>
		</h:form>
	</p:dialog>	
	
<p:dialog header="Gerencia de Semana" widgetVar="dialogGerSemana"
		resizable="false" modal="true" showEffect="slide" width="500">
		<h:form id="addsem">
			<h:panelGrid id="infosSemana" columns="2"
				style="margin-bottom:10px">

			
				<h:outputLabel for="producao" value="Produção:" />
				<h:inputText id="producao" value="#{semanaController.semana.producao}" />

				<h:outputLabel for="aluguel" value="Aluguel:" />
				<h:inputText id="aluguel" value="#{semanaController.semana.aluguel}" />

				<h:outputLabel for="desconto" value="Desconto:" />
				<h:inputText id="desconto" value="#{semanaController.semana.desconto}" />

				<h:outputLabel for="batida" value="Batida:" />
				<h:inputText id="batida"
					value="#{semanaController.semana.batida}" />

				<h:outputLabel for="multa" value="Multa:" />
				<h:inputText id="multa"
					value="#{semanaController.semana.multa}" />
				<h:outputLabel for="adiantamento" value="Adiantamento:" />
				<h:inputText id="adiantamento"
					value="#{semanaController.semana.adiantamento}" />
				<h:outputLabel for="TOTAL" value="TOTAL:" />
				<h:inputText id="TOTAL"
					value="#{semanaController.semana.semana}" />



				<p:commandButton update=":tab2:tabela2"
					oncomplete="PF('dialogGerSemana').hide();"
					actionListener="#{semanaController.adicionarSemana}"
					value="Inserir Semana" />
				<p:commandButton update=":tab2:tabela2"
					oncomplete="PF('dialogGerSemana').hide();"
					actionListener="#{semanaController.alterarSemana}"
					value="Alterar Semana" />

			</h:panelGrid>
		</h:form>
	</p:dialog>


</h:body>
</html>